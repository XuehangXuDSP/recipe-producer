/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the pako library released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.JSZip=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=a("./utils"),e=a("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(a){for(var b,c,e,g,h,i,j,k=[],l=0,m=a.length,n=m,o="string"!==d.getTypeOf(a);l<a.length;)n=m-l,o?(b=a[l++],c=l<m?a[l++]:0,e=l<m?a[l++]:0):(b=a.charCodeAt(l++),c=l<m?a.charCodeAt(l++):0,e=l<m?a.charCodeAt(l++):0),g=b>>2,h=(3&b)<<4|c>>4,i=n>1?(15&c)<<2|e>>6:64,j=n>2?63&e:64,k.push(f.charAt(g)+f.charAt(h)+f.charAt(i)+f.charAt(j));return k.join("")},c.decode=function(a){var b,c,d,g,h,i,j,k=0,l=0,m="data:";if(a.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");var n=a.length,o=3*n/4;if(a.charAt(n-1)===f.charAt(64)&&o--,a.charAt(n-2)===f.charAt(64)&&o--,o%1!==0)throw new Error("Invalid base64 input, bad content length.");var p;for(p=e.uint8array?new Uint8Array(0|o):new Array(0|o);k<n;)g=f.indexOf(a.charAt(k++)),h=f.indexOf(a.charAt(k++)),i=f.indexOf(a.charAt(k++)),j=f.indexOf(a.charAt(k++)),b=g<<2|h>>4,c=(15&h)<<4|i>>2,d=(3&i)<<6|j,p[l++]=b,64!==i&&(p[l++]=c),64!==j&&(p[l++]=d);return p}},{"./support":30,"./utils":32}],2:[function(a,b,c){"use strict";function d(a,b,c,d,e){this.compressedSize=a,this.uncompressedSize=b,this.crc32=c,this.compression=d,this.compressedContent=e}var e=a("./external"),f=a("./stream/DataWorker"),g=a("./stream/DataLengthProbe"),h=a("./stream/Crc32Probe"),i=a("./utils");d.prototype={getContentWorker:function(){var a=new f(e.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompress(this.uncompressedSize)).pipe(new g("data_length")),b=this;return a.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),a},getCompressedWorker:function(){return new f(e.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(a,b,c){return a.pipe(new h).pipe(new g("uncompressedSize")).pipe(b.compress(c)).pipe(new g("compressedSize")).withStreamInfo("compression",b)},b.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27,"./utils":32}],2:[function(a,b,c){"use strict";var d=a("./external"),e=a("./utils");function f(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,b){return this._listeners[a].push(b),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=this.previous=null,this._listeners=[]},emit:function(a,b){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,b)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var b=this;return a.on("data",function(a){b.processChunk(a)}),a.on("end",function(){b.end()}),a.on("error",function(a){b.error(a)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;if(this.generatedError)return this.error(this.generatedError),!0;if(this.previous&&this.previous.resume(),!this.isPaused)return a=!0;return a},isLocked:function(){return this.isLocked?!0:this.previous?this.previous.isLocked():!1},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,b){return this.extraStreamInfo[a]=b,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},b.exports=f},{"./external":6,"./utils":32}],4:[function(a,b,c){"use strict";var d=a("../utils"),e=a("./GenericWorker"),f=a("../stream/StreamHelper"),g=a("../crc32"),h=a("../signature");function i(a,b){var c,d="";for(c=0;c<b;c++)d+=String.fromCharCode(255&a),a>>>=8;return d}function j(a,b,c,e,f,j){var k,l,m=a.file,n=a.compression,o=j!==h.DOS_DATE_TIME,p=d.transformTo("string",f),q=d.transformTo("string",h.utf8encode(m.name)),r=m.comment,s=d.transformTo("string",h.utf8encode(r)),t=q.length!==m.name.length,u=s.length!==r.length,v="",w="",x="",y=m.dir,z=m.date,A={crc32:0,compressedSize:0,uncompressedSize:0};b&&!c||(A.crc32=a.crc32,A.compressedSize=a.compressedSize,A.uncompressedSize=a.uncompressedSize);var B=0;b&&(B|=8),o||(B|=2048),t||u||(B|=2048);var C,D,E=0,F=0;y&&(E|=16),"UNIX"===j?(F=798,E|=function(a,b){var c=a;return a||(c=b?16893:33204),(65535&c)<<16}(m.unixPermissions,y)):(F=20,E|=function(a){return 63&(a||0)}(m.dosPermissions)),C=z.getUTCHours(),C<<=6,C|=z.getUTCMinutes(),C<<=5,C|=z.getUTCSeconds()/2,D=z.getUTCFullYear()-1980,D<<=4,D|=z.getUTCMonth()+1,D<<=5,D|=z.getUTCDate(),t&&(w=i(1,1)+i(g(q),4)+q,v+="up"+i(w.length,2)+w),u&&(x=i(1,1)+i(g(s),4)+s,v+="uc"+i(x.length,2)+x);var G="";return G+="\n\0",G+=i(B,2),G+=n.magic,G+=i(C,2),G+=i(D,2),G+=i(A.crc32,4),G+=i(A.compressedSize,4),G+=i(A.uncompressedSize,4),G+=i(q.length,2),G+=i(v.length,2),{fileRecord:h.LOCAL_FILE_HEADER+G+q+v,dirRecord:h.CENTRAL_FILE_HEADER+i(F,2)+G+i(s.length,2)+"\0\0\0\0"+i(E,4)+i(e,4)+q+v+s}}var k=function(a,b){e.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=a,this.encodeFileName="string"==typeof b.encodeFileName?b.encodeFileName:d.detectEncoding,this.streamFiles=d.isNode||b.streamFiles!==!1};d.inherits(k,e),k.prototype.push=function(a){var b=a.meta.percent||0,c=this.entriesCount,d=this._sources.length;this.accumulate?this.contentBuffer.push(a.data):(this.bytesWritten+=a.data.length,e.prototype.push.call(this,{data:a.data,meta:{currentFile:a.meta.currentFile,percent:c?(b+100*(c-d-1))/c:100}}))},k.prototype.openedSource=function(a){this.currentSourceOffset=this.bytesWritten,this.currentFile=a.file.name;var b=this.streamFiles&&!a.file.dir;if(b){var c=j(a,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},k.prototype.closedSource=function(a){this.accumulate=!1;var b=this.streamFiles&&!a.file.dir,c=j(a,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),b)this.push({data:function(a){return h.DATA_DESCRIPTOR+i(a.crc32,4)+i(a.compressedSize,4)+i(a.uncompressedSize,4)}(a),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},k.prototype.flush=function(){for(var a=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var c=this.bytesWritten-a,e=function(a,b,c,e,f){var g=d.transformTo("string",f(e));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(a,2)+i(a,2)+i(b,4)+i(c,4)+i(g.length,2)+g}(this.dirRecords.length,c,a,this.zipComment,this.encodeFileName);this.push({data:e,meta:{percent:100}})},k.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},k.prototype.registerPrevious=function(a){this._sources.push(a);var b=this;return a.on("data",function(a){b.processChunk(a)}),a.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),a.on("error",function(a){b.error(a)}),this},k.prototype.resume=function(){return!!e.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?!1:(this.end(),!0))},k.prototype.error=function(a){var b=this._sources;if(!e.prototype.error.call(this,a))return!1;for(var c=0;c<b.length;c++)try{b[c].error(a)}catch(a){}return!0},k.prototype.lock=function(){e.prototype.lock.call(this);for(var a=this._sources,b=0;b<a.length;b++)a[b].lock()},b.exports=k},{"../crc32":4,"../signature":23,"../stream/StreamHelper":29,"../utils":32,"./GenericWorker":28}],31:[function(a,b,c){"use strict";var d=a("../compressions"),e=a("./ZipFileWorker");c.generateWorker=function(a,b,c){var f=new e(b.platform||"DOS",c),g=0;try{a.forEach(function(a,c){g++;var e=function(a,b){var c=a||b,e=d[c];if(!e)throw new Error(c+" is not a valid compression method !");return e}(c.options.compression,b.compression||"STORE"),h=c.options.compressionOptions||b.compressionOptions||{},i=c.dir,j=c.date;c._compressWorker(e,h).withStreamInfo("file",{name:a,dir:i,date:j,comment:c.comment||"",unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions}).pipe(f)}),f.entriesCount=g}catch(a){f.error(a)}return f}},{"../compressions":3,"./ZipFileWorker":30}],32:[function(a,b,c){"use strict";function d(a){return a}function e(a,b){for(var c=0;c<a.length;++c)b[c]=255&a.charCodeAt(c);return b}function f(a){var b=65536,d=c.getTypeOf(a),e=!0;if("uint8array"===d?e=n.applyCanBeUsed.uint8array:"nodebuffer"===d&&(e=n.applyCanBeUsed.nodebuffer),e)for(;b>1;)try{return n.stringifyByChunk(a,d,b)}catch(a){b=Math.floor(b/2)}return n.stringifyByChar(a)}function g(a,b){for(var c=0;c<a.length;c++)b[c]=a[c];return b}var h=a("./support"),i=a("./base64"),j=a("./nodejsUtils"),k=a("./external").setImmediate,l=a("./external").Promise;function m(a){"function"==typeof setImmediate?setImmediate(a):l.resolve().then(a)}c.newBlob=function(a,b){c.checkSupport("blob");try{return new Blob(a,b)}catch(c){try{var d=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,e=new d;for(var f=0;f<a.length;f++)e.append(a[f]);return e.getBlob(b.type)}catch(a){throw new Error("Bug : can't construct the blob, neither the native nor the fallback builders are available")}}};var n={stringifyByChunk:function(a,b,c){var d=[],e=0,f=a.length;if(f<=c)return String.fromCharCode.apply(null,a);for(;e<f;)"array"===b||"nodebuffer"===b?d.push(String.fromCharCode.apply(null,a.slice(e,Math.min(e+c,f)))):d.push(String.fromCharCode.apply(null,a.subarray(e,Math.min(e+c,f)))),e+=c;return d.join("")},stringifyByChar:function(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},applyCanBeUsed:{uint8array:function(){try{return h.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(a){return!1}}(),nodebuffer:function(){try{return h.nodebuffer&&1===String.fromCharCode.apply(null,j.allocBuffer(1)).length}catch(a){return!1}}()}};function o(a){var b=65536,d="uint8array"===c.getTypeOf(a)?a:new Uint8Array(a);if(h.uint8array)try{return f(d)}catch(a){}return n.stringifyByChar(d)}c.arrayBuffer2Blob=function(a){return c.newBlob([a],{type:"application/zip"})},c.arrayBufferToBinaryString=o,c.stringToArrayBuffer=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),d=0;d<a.length;d++)c[d]=a.charCodeAt(d);return b};var p=h.uint8array?function(a){return new Uint8Array(a)}:function(a){for(var b=new Array(a),c=0;c<a;c++)b[c]=0;return b};c.uint8Array=p,c.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)};var q=function(a,b){return setTimeout(a,b)},r=function(a){return clearTimeout(a)};"undefined"!=typeof k&&k&&(q=function(a,b){return k(a)},r=function(a){return clearImmediate(a)}),c.delay=q,c.clearDelay=r,c.isNode="undefined"!=typeof Buffer,c.newPromise=function(a){return new l(a)},c.assign=Object.assign||function(a){for(var b=arguments,c=1;c<arguments.length;c++){var d=b[c];if(null!=d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e])}return a},c.slice=function(a,b,c){return"string"==typeof a?a.slice(b,c):a.slice?a.slice(b,c):new Array(a).slice.call(a,b,c)};var s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_";c.prettify=function(a){var b,c="",d=Math.abs(a);for(b=d;b>62;b=Math.floor(b/64))c=s[b%64]+c;return c=s[b%64]+c},c.delay=function(a,b){m(a)},c.inherits=function(a,b){function c(){}c.prototype=b.prototype,a.prototype=new c},c.extend=function(){var a,b,c={};for(a=0;a<arguments.length;a++)for(b in arguments[a])arguments[a].hasOwnProperty(b)&&void 0===c[b]&&(c[b]=arguments[a][b]);return c},c.prepareContent=function(a,b,f,g,h){return l.resolve(b).then(function(b){var f=h&&h.binary||g,j=i.test(b);return(!f||j)&&h&&void 0!==h.base64&&(f=h.base64),j&&(b=i.decode(b)),b}).then(function(b){var g=c.getTypeOf(b);return"string"===g?f&&!h.binary?(c.checkSupport("arraybuffer"),new ArrayBuffer(0)):h.string!==!1&&!h.binary&&!f?b:e(b,c.uint8Array(b.length)):"arraybuffer"===g?f?b:c.transformTo("uint8array",b):f?c.transformTo("arraybuffer",b):b}).then(function(b){return c.checkSupport(c.getTypeOf(b)),b})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30}],33:[function(a,b,c){"use strict";var d=a("./reader/readerFor"),e=a("./utils"),f=a("./signature"),g=a("./zipEntry"),h=a("./utf8"),i=a("./support");function j(a){this.files=[],this.loadOptions=a}j.prototype={checkSignature:function(a){if(!this.reader.readAndCheckSignature(a)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+e.pretty(b)+", expected "+e.pretty(a)+")")}},isSignature:function(a,b){var c=this.reader.index;this.reader.setIndex(a);var d=this.reader.readString(4)===b;return this.reader.setIndex(c),d},readBlockEndOfCentral:function(){this.numberOfThisDisk=this.reader.readInt(2),this.numberOfThisDiskWithCentralDir=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var a=this.reader.readData(this.zipCommentLength),b=i.uint8array?"uint8array":"array",c=e.transformTo(b,a);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.numberOfThisDisk=this.reader.readInt(4),this.numberOfThisDiskWithCentralDir=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData=this.reader.readData(this.zip64EndOfCentralSize-44)},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var a,b;for(a=0;a<this.files.length;a++)b=this.files[a],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var a;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)a=new g({zip64:this.zip64},this.loadOptions),a.readCentralPart(this.reader),this.files.push(a);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var a=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(a<0){var b=!this.isSignature(0,f.LOCAL_FILE_HEADER);throw b?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(a);var c=a;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===this.numberOfThisDiskWithCentralDir&&this.centralDirRecordsOnThisDisk===this.centralDirRecords||(this.zip64=!0),this.zip64){if(this.reader.setIndex(c-20),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var e=c-d;if(e>0)this.isSignature(c,f.CENTRAL_DIRECTORY_END)||(this.reader.zero=e);else if(e<0)throw new Error("Corrupted zip: missing "+Math.abs(e)+" bytes.")},prepareReader:function(a){this.reader=d(a)},load:function(a){this.prepareReader(a),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=j},{"./reader/readerFor":22,"./signature":23,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(a,b,c){"use strict";var d=a("./reader/readerFor"),e=a("./utils"),f=a("./compressedObject"),g=a("./crc32"),h=a("./utf8"),i=a("./compressions"),j=a("./support");function k(a,b){this.options=a,this.loadOptions=b}k.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(a){var b,c;if(a.skip(22),this.fileNameLength=a.readInt(2),c=a.readInt(2),this.fileName=a.readData(this.fileNameLength),a.skip(c),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(b=e.findCompression(this.compressionMethod),null===b)throw new Error("Corrupted zip : compression "+e.pretty(this.compressionMethod)+" unknown (inner file : "+e.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,b,a.readData(this.compressedSize))},readCentralPart:function(a){this.versionMadeBy=a.readInt(2),a.skip(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4);var b=a.readInt(2);if(this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");a.skip(b),this.readExtraFields(a),this.parseZIP64ExtraField(a),this.fileComment=a.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===a&&(this.dosPermissions=63&this.externalFileAttributes),3===a&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var a=d(this.extraFields[1].value);this.uncompressedSize===e.MAX_VALUE_32BITS&&(this.uncompressedSize=a.readInt(8)),this.compressedSize===e.MAX_VALUE_32BITS&&(this.compressedSize=a.readInt(8)),this.localHeaderOffset===e.MAX_VALUE_32BITS&&(this.localHeaderOffset=a.readInt(8)),this.diskNumberStart===e.MAX_VALUE_16BITS&&(this.diskNumberStart=a.readInt(4))}},readExtraFields:function(a){var b,c,d,e=a.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});a.index+4<e;)b=a.readInt(2),c=a.readInt(2),d=a.readData(c),this.extraFields[b]={id:b,length:c,value:d};a.setIndex(e)},handleUTF8:function(){var a=j.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(null!==b)this.fileNameStr=b;else{var c=e.transformTo(a,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var d=this.findExtraFieldUnicodeComment();if(null!==d)this.fileCommentStr=d;else{var f=e.transformTo(a,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var b=d(a.value);return 1!==b.readInt(1)?null:g(this.fileName)!==b.readInt(4)?null:h.utf8decode(b.readData(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var b=d(a.value);return 1!==b.readInt(1)?null:g(this.fileComment)!==b.readInt(4)?null:h.utf8decode(b.readData(a.length-5))}return null}},b.exports=k},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(a,b,c){"use strict";function d(a,b,c){this.name=a,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this.unixPermissions=c.unixPermissions,this.dosPermissions=c.dosPermissions,this._data=b,this._dataBinary=c.binary,this.options={compression:c.compression,compressionOptions:c.compressionOptions}}var e=a("./stream/StreamHelper"),f=a("./stream/DataWorker"),g=a("./utf8"),h=a("./compressedObject"),i=a("./stream/GenericWorker");d.prototype={internalStream:function(a){var b=null,c="string";try{if(!a)throw new Error("No output type specified.");var d="string"===(c=a.toLowerCase())||"text"===c;"binarystring"!==c&&"text"!==c||(c="string"),b=this._decompressWorker();var h=!this._dataBinary;h&&!d&&(b=b.pipe(new g.Utf8DecodeWorker)),!h&&d&&(b=b.pipe(new g.Utf8EncodeWorker(a.charset||"utf8"))),b=b.pipe(new e(c));var i=new Promise(function(a,c){b.on("error",function(a){c(a)}).on("end",function(){try{a(b.streamInfo.buffer||b.streamInfo.result)}catch(a){c(a)}}).resume()});return i}catch(a){return(b||new i("error")).error(a),b}},async:function(a){return this.internalStream(a)},nodeStream:function(a,b){return this.internalStream(a||b||"nodebuffer").then(function(a){return new Readable({objectMode:!1,read:function(){this.push(a),this.push(null)}})})},_compressWorker:function(a,b){if(this._data instanceof h&&this._data.compression.magic===a.magic)return this._data.getCompressedWorker();var c=this._decompressWorker();return this._dataBinary||(c=c.pipe(new g.Utf8EncodeWorker("utf8"))),h.createWorkerFrom(c,a,b)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof i?this._data:new f(this._data)}};for(var j=["asText","asBinary","asUint8Array","asArrayBuffer"],k=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<j.length;l++)d.prototype[j[l]]=k;b.exports=d},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}]},{},[])({1:[function(a,b,c){"use strict";c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],2:[function(a,b,c){"use strict";var d=a("./utils");c.string2binary=function(a){return d.string2binary(a)},c.string2Uint8Array=function(a){return d.transformTo("uint8array",a)},c.uint8Array2String=function(a){return d.transformTo("string",a)},c.string2Blob=function(a){var b=d.transformTo("arraybuffer",a);return d.arrayBuffer2Blob(b)},c.arrayBuffer2Blob=function(a){return d.arrayBuffer2Blob(a)},c.transformTo=function(a,b){return d.transformTo(a,b)},c.getTypeOf=function(a){return d.getTypeOf(a)},c.checkSupport=function(a){return d.checkSupport(a)},c.MAX_VALUE_16BITS=d.MAX_VALUE_16BITS,c.MAX_VALUE_32BITS=d.MAX_VALUE_32BITS,c.pretty=function(a){return d.pretty(a)},c.delay=function(a,b,c){return d.delay(a,b,c)},c.findCompression=function(a){return d.findCompression(a)},c.isRegExp=function(a){return d.isRegExp(a)}},{"./utils":21}],3:[function(a,b,c){"use strict";var d="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,e=a("pako"),f=a("./utils"),g=a("./stream/GenericWorker"),h=d?"uint8array":"array";function i(a,b){g.call(this,"FlateWorker/"+a),this._pako=null,this._pakoAction=a,this._pakoOptions=b,this.meta={}}c.raw=new(function(){function a(a){g.call(this,"DataLengthProbe for "+a),this.propName=a,this.withStreamInfo(a,0)}return f.inherits(a,g),a.prototype.processChunk=function(a){if(a){var b=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=b+a.data.length}g.prototype.processChunk.call(this,a)},a}())("raw"),c.deflate=i,c.inflate=i,f.inherits(i,g),i.prototype.processChunk=function(a){this.meta=a.meta;try{this._pako||(this._pako=new e[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1,chunkSize:this._pakoOptions.chunkSize||16384,windowBits:this._pakoOptions.windowBits||-15,memLevel:this._pakoOptions.memLevel||8,strategy:this._pakoOptions.strategy||0,to:h})),this._pako.push(f.transformTo(h,a.data),!1)}catch(a){this.error(a);return}if(this._pako.result)if(this._pako.result.length>0){if(this.push({data:this._pako.result,meta:this.meta}),this._pako.result=null,"deflate"===this._pakoAction&&this._pako.result&&this._pako.result.length>0)this.push({data:this._pako.result,meta:this.meta}),this._pako.result=null}else this.push({data:new Uint8Array(0),meta:this.meta})},i.prototype.flush=function(){g.prototype.flush.call(this);try{this._pako||(this._pako=new e[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1,chunkSize:this._pakoOptions.chunkSize||16384,windowBits:this._pakoOptions.windowBits||-15,memLevel:this._pakoOptions.memLevel||8,strategy:this._pakoOptions.strategy||0,to:h})),this._pako.push("",!0)}catch(a){this.error(a);return}if(this._pako.result){if(this._pako.result.length>0){if(this.push({data:this._pako.result,meta:this.meta}),this._pako.result=null,"deflate"===this._pakoAction&&this._pako.result&&this._pako.result.length>0)this.push({data:this._pako.result,meta:this.meta}),this._pako.result=null}else this.push({data:new Uint8Array(0),meta:this.meta})}this._pako=null}},{"./stream/GenericWorker":28,"./utils":21,pako:13}],4:[function(a,b,c){"use strict";var d=a("./utils"),e=function(){for(var a,b=[],c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}();function f(a,b,c,d){var f=e,g=d+c;a^=-1;for(var h=d;h<g;h++)a=a>>>8^f[255&(a^b[h])];return-1^a}b.exports=function(a,b){return void 0!==a&&a.length?"string"!==d.getTypeOf(a)?f(0,a,a.length,0):f(0,d.transformTo("uint8array",a),a.length,0):0}},{"./utils":21}],5:[function(a,b,c){"use strict";c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(a,b,c){"use strict";var d=null;d="undefined"!=typeof Promise?Promise:a("lie"),b.exports={Promise:d}},{lie:37}],7:[function(a,b,c){"use strict";var d="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,e=a("pako"),f=a("./utils"),g=a("./stream/GenericWorker"),h=d?"uint8array":"array";function i(a,b){g.call(this,"FlateWorker/"+a),this._pako=null,this._pakoAction=a,this._pakoOptions=b,this.meta={}}c.raw=new(function(){function a(a){g.call(this,"DataLengthProbe for "+a),this.propName=a,this.withStreamInfo(a,0)}return f.inherits(a,g),a.prototype.processChunk=function(a){if(a){var b=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=b+a.data.length}g.prototype.processChunk.call(this,a)},a}())("raw"),c.deflate=i,c.inflate=i,f.inherits(i,g),i.prototype.processChunk=function(a){this.meta=a.meta;try{this._pako||(this._pako=new e[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1,chunkSize:this._pakoOptions.chunkSize||16384,windowBits:this._pakoOptions.windowBits||-15,memLevel:this._pakoOptions.memLevel||8,strategy:this._pakoOptions.strategy||0,to:h})),this._pako.push(f.transformTo(h,a.data),!1)}catch(a){this.error(a);return}if(this._pako.result)if(this._pako.result.length>0){if(this.push({data:this._pako.result,meta:this.meta}),this._pako.result=null,"deflate"===this._pakoAction&&this._pako.result&&this._pako.result.length>0)this.push({data:this._pako.result,meta:this.meta}),this._pako.result=null}else this.push({data:new Uint8Array(0),meta:this.meta})},i.prototype.flush=function(){g.prototype.flush.call(this);try{this._pako||(this._pako=new e[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1,chunkSize:this._pakoOptions.chunkSize||16384,windowBits:this._pakoOptions.windowBits||-15,memLevel:this._pakoOptions.memLevel||8,strategy:this._pakoOptions.strategy||0,to:h})),this._pako.push("",!0)}catch(a){this.error(a);return}if(this._pako.result){if(this._pako.result.length>0){if(this.push({data:this._pako.result,meta:this.meta}),this._pako.result=null,"deflate"===this._pakoAction&&this._pako.result&&this._pako.result.length>0)this.push({data:this._pako.result,meta:this.meta}),this._pako.result=null}else this.push({data:new Uint8Array(0),meta:this.meta})}this._pako=null}},{"./stream/GenericWorker":28,"./utils":21,pako:13}],8:[function(a,b,c){"use strict";function d(a,b){var c,d="";for(c=0;c<b;c++)d+=String.fromCharCode(255&a),a>>>=8;return d}function e(a,b,c,e,f,g){var h,i,j=a.file,k=a.compression,l=g!==O.DOS_DATE_TIME,m=I.transformTo("string",f),n=I.transformTo("string",O.utf8encode(j.name)),o=j.comment,p=I.transformTo("string",O.utf8encode(o)),q=n.length!==j.name.length,r=p.length!==o.length,s="",t="",u="",v=j.dir,w=j.date,x={crc32:0,compressedSize:0,uncompressedSize:0};b&&!c||(x.crc32=a.crc32,x.compressedSize=a.compressedSize,x.uncompressedSize=a.uncompressedSize);var y=0;b&&(y|=8),l||(y|=2048),q||r||(y|=2048);var z,A,B=0,C=0;v&&(B|=16),"UNIX"===g?(C=798,B|=function(a,b){var c=a;return a||(c=b?16893:33204),(65535&c)<<16}(j.unixPermissions,v)):(C=20,B|=function(a){return 63&(a||0)}(j.dosPermissions)),z=w.getUTCHours(),z<<=6,z|=w.getUTCMinutes(),z<<=5,z|=w.getUTCSeconds()/2,A=w.getUTCFullYear()-1980,A<<=4,A|=w.getUTCMonth()+1,A<<=5,A|=w.getUTCDate(),q&&(t=d(1,1)+d(H(n),4)+n,s+="up"+d(t.length,2)+t),r&&(u=d(1,1)+d(H(p),4)+p,s+="uc"+d(u.length,2)+u);var D="";return D+="\n\0",D+=d(y,2),D+=k.magic,D+=d(z,2),D+=d(A,2),D+=d(x.crc32,4),D+=d(x.compressedSize,4),D+=d(x.uncompressedSize,4),D+=d(n.length,2),D+=d(s.length,2),{fileRecord:O.LOCAL_FILE_HEADER+D+n+s,dirRecord:O.CENTRAL_FILE_HEADER+d(C,2)+D+d(p.length,2)+"\0\0\0\0"+d(B,4)+d(e,4)+n+s+p}}var f=a("../utils"),g=a("./GenericWorker"),h=a("../utf8"),i=a("../crc32"),j=a("../signature");function k(a,b,c,d){g.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=c,this.encodeFileName=d,this.streamFiles=a,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}f.inherits(k,g),k.prototype.push=function(a){var b=a.meta.percent||0,c=this.entriesCount,d=this._sources.length;this.accumulate?this.contentBuffer.push(a.data):(this.bytesWritten+=a.data.length,g.prototype.push.call(this,{data:a.data,meta:{currentFile:a.meta.currentFile,percent:c?(b+100*(c-d-1))/c:100}}))},k.prototype.openedSource=function(a){this.currentSourceOffset=this.bytesWritten,this.currentFile=a.file.name;var b=this.streamFiles&&!a.file.dir;if(b){var c=e(a,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},k.prototype.closedSource=function(a){this.accumulate=!1;var b=this.streamFiles&&!a.file.dir,c=e(a,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),b)this.push({data:function(a){return j.DATA_DESCRIPTOR+d(a.crc32,4)+d(a.compressedSize,4)+d(a.uncompressedSize,4)}(a),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},k.prototype.flush=function(){for(var a=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var c=this.bytesWritten-a,e=function(a,b,c,e,g){var h=f.transformTo("string",g(e));return j.CENTRAL_DIRECTORY_END+"\0\0\0\0"+d(a,2)+d(a,2)+d(b,4)+d(c,4)+d(h.length,2)+h}(this.dirRecords.length,c,a,this.zipComment,this.encodeFileName);this.push({data:e,meta:{percent:100}})},k.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},k.prototype.registerPrevious=function(a){this._sources.push(a);var b=this;return a.on("data",function(a){b.processChunk(a)}),a.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),a.on("error",function(a){b.error(a)}),this},k.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?!1:(this.end(),!0))},k.prototype.error=function(a){var b=this._sources;if(!g.prototype.error.call(this,a))return!1;for(var c=0;c<b.length;c++)try{b[c].error(a)}catch(a){}return!0},k.prototype.lock=function(){g.prototype.lock.call(this);for(var a=this._sources,b=0;b<a.length;b++)a[b].lock()},b.exports=k;var H=a("../crc32"),I=a("../utils"),J=a("./GenericWorker"),K=a("../utf8"),L=a("../signature"),M=function(a,b,c){var d=f.transformTo("string",c(b));return L.CENTRAL_DIRECTORY_END+"\0\0\0\0"+function(a,b){var c,d="";for(c=0;c<b;c++)d+=String.fromCharCode(255&a),a>>>=8;return d}(a,2)+function(a,b){var c,d="";for(c=0;c<b;c++)d+=String.fromCharCode(255&a),a>>>=8;return d}(a,2)+function(a,b){var c,d="";for(c=0;c<b;c++)d+=String.fromCharCode(255&a),a>>>=8;return d}(b,4)+function(a,b){var c,d="";for(c=0;c<b;c++)d+=String.fromCharCode(255&a),a>>>=8;return d}(c,4)+function(a,b){var c,d="";for(c=0;c<b;c++)d+=String.fromCharCode(255&a),a>>>=8;return d}(d.length,2)+d},N=a("../signature"),O=a("../signature")},{"../crc32":4,"../signature":14,"../utf8":16,"../utils":21,"./GenericWorker":9}],9:[function(a,b,c){"use strict";function d(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}d.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,b){return this._listeners[a].push(b),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=this.previous=null,this._listeners=[]},emit:function(a,b){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,b)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var b=this;return a.on("data",function(a){b.processChunk(a)}),a.on("end",function(){b.end()}),a.on("error",function(a){b.error(a)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;if(this.generatedError)return this.error(this.generatedError),!0;if(this.previous&&this.previous.resume(),!this.isPaused)return a=!0;return a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,b){return this.extraStreamInfo[a]=b,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},b.exports=d},{}],10:[function(a,b,c){"use strict";var d=a("../utils"),e=a("../stream/GenericWorker"),f=a("../utf8"),g=a("../crc32"),h=a("../signature");function i(a,b,c,d){e.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=c,this.encodeFileName=d,this.streamFiles=a,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(i,e),i.prototype.push=function(a){var b=a.meta.percent||0,c=this.entriesCount,d=this._sources.length;this.accumulate?this.contentBuffer.push(a.data):(this.bytesWritten+=a.data.length,e.prototype.push.call(this,{data:a.data,meta:{currentFile:a.meta.currentFile,percent:c?(b+100*(c-d-1))/c:100}}))},i.prototype.openedSource=function(a){this.currentSourceOffset=this.bytesWritten,this.currentFile=a.file.name;var b=this.streamFiles&&!a.file.dir;if(b){var c=j(a,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},i.prototype.closedSource=function(a){this.accumulate=!1;var b=this.streamFiles&&!a.file.dir,c=j(a,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),b)this.push({data:function(a){return h.DATA_DESCRIPTOR+k(a.crc32,4)+k(a.compressedSize,4)+k(a.uncompressedSize,4)}(a),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},i.prototype.flush=function(){for(var a=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var c=this.bytesWritten-a,e=function(a,b,c,e,f){var g=d.transformTo("string",f(e));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+k(a,2)+k(a,2)+k(b,4)+k(c,4)+k(g.length,2)+g}(this.dirRecords.length,c,a,this.zipComment,this.encodeFileName);this.push({data:e,meta:{percent:100}})},i.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},i.prototype.registerPrevious=function(a){this._sources.push(a);var b=this;return a.on("data",function(a){b.processChunk(a)}),a.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),a.on("error",function(a){b.error(a)}),this},i.prototype.resume=function(){return!!e.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?!1:(this.end(),!0))},i.prototype.error=function(a){var b=this._sources;if(!e.prototype.error.call(this,a))return!1;for(var c=0;c<b.length;c++)try{b[c].error(a)}catch(a){}return!0},i.prototype.lock=function(){e.prototype.lock.call(this);for(var a=this._sources,b=0;b<a.length;b++)a[b].lock()};function j(a,b,c,e,i,j){var l,m,n=a.file,o=a.compression,p=j!==h.DOS_DATE_TIME,q=d.transformTo("string",i),r=d.transformTo("string",h.utf8encode(n.name)),s=n.comment,t=d.transformTo("string",h.utf8encode(s)),u=r.length!==n.name.length,v=t.length!==s.length,w="",x="",y="",z=n.dir,A=n.date,B={crc32:0,compressedSize:0,uncompressedSize:0};b&&!c||(B.crc32=a.crc32,B.compressedSize=a.compressedSize,B.uncompressedSize=a.uncompressedSize);var C=0;b&&(C|=8),p||(C|=2048),u||v||(C|=2048);var D,E,F=0,G=0;z&&(F|=16),"UNIX"===j?(G=798,F|=function(a,b){var c=a;return a||(c=b?16893:33204),(65535&c)<<16}(n.unixPermissions,z)):(G=20,F|=function(a){return 63&(a||0)}(n.dosPermissions)),D=A.getUTCHours(),D<<=6,D|=A.getUTCMinutes(),D<<=5,D|=A.getUTCSeconds()/2,E=A.getUTCFullYear()-1980,E<<=4,E|=A.getUTCMonth()+1,E<<=5,E|=A.getUTCDate(),u&&(x=k(1,1)+k(g(r),4)+r,w+="up"+k(x.length,2)+x),v&&(y=k(1,1)+k(g(t),4)+t,w+="uc"+k(y.length,2)+y);var H="";return H+="\n\0",H+=k(C,2),H+=o.magic,H+=k(D,2),H+=k(E,2),H+=k(B.crc32,4),H+=k(B.compressedSize,4),H+=k(B.uncompressedSize,4),H+=k(r.length,2),H+=k(w.length,2),{fileRecord:h.LOCAL_FILE_HEADER+H+r+w,dirRecord:h.CENTRAL_FILE_HEADER+k(G,2)+H+k(t.length,2)+"\0\0\0\0"+k(F,4)+k(e,4)+r+w+t}}function k(a,b){var c,d="";for(c=0;c<b;c++)d+=String.fromCharCode(255&a),a>>>=8;return d}b.exports=i},{"../crc32":4,"../signature":14,"../stream/GenericWorker":28,"../utf8":16,"../utils":21}],11:[function(a,b,c){"use strict";var d=a("../compressions"),e=a("./ZipFileWorker");c.generateWorker=function(a,b,c){var f=new e(b.streamFiles,b.compression,c.platform,c.encodeFileName),g=0;try{a.forEach(function(a,c){g++;var e=function(a,b){var c=a||b,e=d[c];if(!e)throw new Error(c+" is not a valid compression method !");return e}(c.options.compression,b.compression||"STORE"),h=c.options.compressionOptions||b.compressionOptions||{},i=c.dir,j=c.date;c._compressWorker(e,h).withStreamInfo("file",{name:a,dir:i,date:j,comment:c.comment||"",unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions}).pipe(f)}),f.entriesCount=g}catch(a){f.error(a)}return f}},{"../compressions":3,"./ZipFileWorker":10}],12:[function(a,b,c){"use strict";function d(){if(!(this instanceof d))return new d;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var a=new d;for(var b in this)"function"!=typeof this[b]&&(a[b]=this[b]);return a}}d.prototype=a("./object"),d.prototype.loadAsync=a("./load"),d.support=a("./support"),d.defaults=a("./defaults"),d.version="3.10.1",d.loadAsync=function(a,b){return new d().loadAsync(a,b)},d.external=a("./external"),b.exports=d},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],13:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{lie:37}],14:[function(a,b,c){"use strict";c.LOCAL_FILE_HEADER="PK\x03\x04",c.CENTRAL_FILE_HEADER="PK\x01\x02",c.CENTRAL_DIRECTORY_END="PK\x05\x06",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",c.DATA_DESCRIPTOR="PK\x07\x08"},{}],15:[function(a,b,c){"use strict";var d=a("./utf8"),e=a("./utils"),f=a("./stream/GenericWorker"),g=a("./stream/StreamHelper"),h=a("./defaults"),i=a("./compressedObject"),j=a("./zipObject"),k=a("./generate"),l=a("./nodejsUtils"),m=a("./nodejs/NodejsStreamInputAdapter"),n=function(a,b,c){var d,f=e.getTypeOf(b),g=e.extend(c||{},h);g.createFolders=g.dir=void 0!==g.dir?g.dir:!1,g.date=g.date||new Date,null!==g.compression&&(g.compression=g.compression.toUpperCase()),"string"==typeof g.unixPermissions&&(g.unixPermissions=parseInt(g.unixPermissions,8)),g.unixPermissions&&16384&g.unixPermissions&&(g.dir=!0),g.dosPermissions&&16&g.dosPermissions&&(g.dir=!0),g.dir&&(a=q(a)),g.createFolders&&(d=p(a))&&r.call(this,d,!0);var k="string"===f&&!1===g.binary&&!1===g.base64;c&&void 0!==c.binary||(g.binary=!k),(b instanceof i&&0===b.uncompressedSize||g.dir||!b||0===b.length)&&(g.base64=!1,g.binary=!0,b="",g.compression="STORE",f="string");var l=null;l=b instanceof i||b instanceof f?b:m.isNode&&m.isStream(b)?new m(a,b):e.prepareContent(a,b,g.binary,g.optimizedBinaryString,g.base64);var n=new j(a,l,g);this.files[a]=n};function o(a){return"/"!==a.slice(-1)&&(a+="/"),a}function p(a){"/"===a.slice(-1)&&(a=a.substring(0,a.length-1));var b=a.lastIndexOf("/");return b>0?a.substring(0,b):""}function q(a){return"/"!==a.slice(-1)&&(a+="/"),a}function r(a,b){return b=void 0!==b?b:h.createFolders,a=q(a),this.files[a]||n.call(this,a,null,{dir:!0,createFolders:b}),this.files[a]}function s(a){var b,c,d=[];for(b in this.files)this.files.hasOwnProperty(b)&&(c=this.files[b],a(c.name,c)&&d.push(c));return d}var t={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(a){var b,c,d;for(b in this.files)this.files.hasOwnProperty(b)&&(d=this.files[b],c=b.slice(this.root.length,b.length),c&&b.slice(0,this.root.length)===this.root&&"/"!==c[0]&&a(c,d))},filter:function(a){var b=s.call(this,function(b,c){return a(b.slice(this.root.length,b.length),c)}.bind(this));return new t(b)},file:function(a,b,c){if(1===arguments.length){if(e.isRegExp(a)){var d=a;return this.filter(function(a,b){return!b.dir&&d.test(a)})}var f=this.files[this.root+a];return f&&!f.dir?f:null}return a=this.root+a,n.call(this,a,b,c),this},folder:function(a){if(!a)return this;if(e.isRegExp(a))return this.filter(function(b,c){return c.dir&&a.test(b)});var b=this.root+a,c=r.call(this,b),d=this.clone();return d.root=c.name,d},remove:function(a){a=this.root+a;var b=this.files[a];if(b||("/"!=a.slice(-1)&&(a+="/"),b=this.files[a]),b&&!b.dir)delete this.files[a];else for(var c=this.filter(function(b,c){return c.name.slice(0,a.length)===a}),d=0;d<c.length;d++)delete this.files[c[d].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(a){var b,c={};try{if(c=e.extend(a||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode}),c.type=c.type.toLowerCase(),c.compression=c.compression.toUpperCase(),"binarystring"===c.type&&(c.type="string"),!c.type)throw new Error("No output type specified.");e.checkSupport(c.type),"auto"===c.platform&&(c.platform=l.isNode?"UNIX":"DOS"),c.comment=c.comment||this.comment||"","string"==typeof c.encodeFileName&&(c.encodeFileName=d[c.encodeFileName]);var f=c.type;"UINT8ARRAY"===c.type.toUpperCase()&&(f="uint8array"),"nodebuffer"===c.type.toLowerCase()&&(f="nodebuffer"),b=k.generateWorker(this,c,f)}catch(a){b=new f("error"),b.error(a)}return new g(b,f,c.mimeType)},generateAsync:function(a,b){return this.generateInternalStream(a).accumulate(b)},generateNodeStream:function(a,b){return a=a||{},a.type||(a.type="nodebuffer"),this.generateInternalStream(a).toNodejsStream(b)}};function u(a,b){var c,d;for(c in b)b.hasOwnProperty(c)&&(d=b[c],"string"==typeof d||"number"==typeof d||"boolean"==typeof d||e.isDate(d)?a[c]=d:Array.isArray(d)?a[c]=d.map(function(a){return new Date(a)}):null===d||void 0===d?a[c]=d:"object"==typeof d&&(a[c]={},u(a[c],d)))}function v(a){var b,c,d;for(c in this.files)if(this.files.hasOwnProperty(c)){if(d=this.files[c],d.dir!==a.dir)continue;if("/"===d.name.slice(-1)!==a.dir)continue;if(0!==d.name.indexOf(this.root))continue;b=d.name.slice(this.root.length,d.name.length),b&&"/"===b[0]&&(b=b.slice(1,b.length)),0===b.indexOf(a.path)&&b.slice(a.path.length,b.length).indexOf("/")>=0&&(d._wasInSubFolder=!0)}a.path=a.path.slice(0,a.path.length-1),a.name=a.name.slice(0,a.name.length-1)}b.exports=function(a){if(a&&Array.isArray(a)){for(var b=new t,c=0;c<a.length;c++)b.files[a[c].name]=a[c];return v.call(b,{name:"",path:"",dir:!0}),b}return new t}},{"./compressedObject":2,"./defaults":5,"./generate":11,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(a,b,c){"use strict";function d(a){return a}function e(a,b){for(var c=0;c<a.length;++c)b[c]=255&a.charCodeAt(c);return b}function f(a){var b=65536,d=c.getTypeOf(a),e=!0;if("uint8array"===d?e=n.applyCanBeUsed.uint8array:"nodebuffer"===d&&(e=n.applyCanBeUsed.nodebuffer),e)for(;b>1;)try{return n.stringifyByChunk(a,d,b)}catch(a){b=Math.floor(b/2)}return n.stringifyByChar(a)}function g(a,b){for(var c=0;c<a.length;c++)b[c]=a[c];return b}var h=a("./support"),i=a("./base64"),j=a("./nodejsUtils"),k=a("set-immediate-shim"),l=a("./external").Promise;function m(a){"function"==typeof setImmediate?setImmediate(a):l.resolve().then(a)}c.newBlob=function(a,b){c.checkSupport("blob");try{return new Blob(a,b)}catch(c){try{var d=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,e=new d;for(var f=0;f<a.length;f++)e.append(a[f]);return e.getBlob(b.type)}catch(a){throw new Error("Bug : can't construct the blob, neither the native nor the fallback builders are available")}}};var n={stringifyByChunk:function(a,b,c){var d=[],e=0,f=a.length;if(f<=c)return String.fromCharCode.apply(null,a);for(;e<f;)"array"===b||"nodebuffer"===b?d.push(String.fromCharCode.apply(null,a.slice(e,Math.min(e+c,f)))):d.push(String.fromCharCode.apply(null,a.subarray(e,Math.min(e+c,f)))),e+=c;return d.join("")},stringifyByChar:function(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},applyCanBeUsed:{uint8array:function(){try{return h.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(a){return!1}}(),nodebuffer:function(){try{return h.nodebuffer&&1===String.fromCharCode.apply(null,j.allocBuffer(1)).length}catch(a){return!1}}()}};function o(a){var b=65536,d="uint8array"===c.getTypeOf(a)?a:new Uint8Array(a);if(h.uint8array)try{return f(d)}catch(a){}return n.stringifyByChar(d)}c.arrayBuffer2Blob=function(a){return c.newBlob([a],{type:"application/zip"})},c.arrayBufferToBinaryString=o,c.stringToArrayBuffer=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),d=0;d<a.length;d++)c[d]=a.charCodeAt(d);return b};var p=h.uint8array?function(a){return new Uint8Array(a)}:function(a){for(var b=new Array(a),c=0;c<a;c++)b[c]=0;return b};c.uint8Array=p,c.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)};var q=function(a,b){return setTimeout(a,b)},r=function(a){return clearTimeout(a)};"undefined"!=typeof k&&k&&(q=function(a,b){return k(a)},r=function(a){return clearImmediate(a)}),c.delay=q,c.clearDelay=r,c.isNode="undefined"!=typeof Buffer,c.newPromise=function(a){return new l(a)},c.assign=Object.assign||function(a){for(var b=arguments,c=1;c<arguments.length;c++){var d=b[c];if(null!=d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e])}return a},c.slice=function(a,b,c){return"string"==typeof a?a.slice(b,c):a.slice?a.slice(b,c):new Array(a).slice.call(a,b,c)};var s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_";c.prettify=function(a){var b,c="",d=Math.abs(a);for(b=d;b>62;b=Math.floor(b/64))c=s[b%64]+c;return c=s[b%64]+c},c.delay=function(a,b){m(a)},c.inherits=function(a,b){function c(){}c.prototype=b.prototype,a.prototype=new c},c.extend=function(){var a,b,c={};for(a=0;a<arguments.length;a++)for(b in arguments[a])arguments[a].hasOwnProperty(b)&&void 0===c[b]&&(c[b]=arguments[a][b]);return c},c.prepareContent=function(a,b,f,g,h){return l.resolve(b).then(function(b){var f=h&&h.binary||g,j=i.test(b);return(!f||j)&&h&&void 0!==h.base64&&(f=h.base64),j&&(b=i.decode(b)),b}).then(function(b){var g=c.getTypeOf(b);return"string"===g?f&&!h.binary?(c.checkSupport("arraybuffer"),new ArrayBuffer(0)):h.string!==!1&&!h.binary&&!f?b:e(b,c.uint8Array(b.length)):"arraybuffer"===g?f?b:c.transformTo("uint8array",b):f?c.transformTo("arraybuffer",b):b}).then(function(b){return c.checkSupport(c.getTypeOf(b)),b})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],17:[function(a,b,c){"use strict";var d=a("./reader/readerFor"),e=a("./utils"),f=a("./signature"),g=a("./zipEntry"),h=a("./utf8"),i=a("./support");function j(a){this.files=[],this.loadOptions=a}j.prototype={checkSignature:function(a){if(!this.reader.readAndCheckSignature(a)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+e.pretty(b)+", expected "+e.pretty(a)+")")}},isSignature:function(a,b){var c=this.reader.index;this.reader.setIndex(a);var d=this.reader.readString(4)===b;return this.reader.setIndex(c),d},readBlockEndOfCentral:function(){this.numberOfThisDisk=this.reader.readInt(2),this.numberOfThisDiskWithCentralDir=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var a=this.reader.readData(this.zipCommentLength),b=i.uint8array?"uint8array":"array",c=e.transformTo(b,a);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.numberOfThisDisk=this.reader.readInt(4),this.numberOfThisDiskWithCentralDir=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData=this.reader.readData(this.zip64EndOfCentralSize-44)},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var a,b;for(a=0;a<this.files.length;a++)b=this.files[a],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var a;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)a=new g({zip64:this.zip64},this.loadOptions),a.readCentralPart(this.reader),this.files.push(a);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var a=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(a<0){var b=!this.isSignature(0,f.LOCAL_FILE_HEADER);throw b?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(a);var c=a;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===this.numberOfThisDiskWithCentralDir&&this.centralDirRecordsOnThisDisk===this.centralDirRecords||(this.zip64=!0),this.zip64){if(this.reader.setIndex(c-20),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var e=c-d;if(e>0)this.isSignature(c,f.CENTRAL_DIRECTORY_END)||(this.reader.zero=e);else if(e<0)throw new Error("Corrupted zip: missing "+Math.abs(e)+" bytes.")},prepareReader:function(a){this.reader=d(a)},load:function(a){this.prepareReader(a),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=j},{"./reader/readerFor":22,"./signature":23,"./utf8":31,"./utils":32,"./zipEntry":34}],18:[function(a,b,c){"use strict";var d=a("./reader/readerFor"),e=a("./utils"),f=a("./compressedObject"),g=a("./crc32"),h=a("./utf8"),i=a("./compressions"),j=a("./support");function k(a,b){this.options=a,this.loadOptions=b}k.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(a){var b,c;if(a.skip(22),this.fileNameLength=a.readInt(2),c=a.readInt(2),this.fileName=a.readData(this.fileNameLength),a.skip(c),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(b=e.findCompression(this.compressionMethod),null===b)throw new Error("Corrupted zip : compression "+e.pretty(this.compressionMethod)+" unknown (inner file : "+e.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,b,a.readData(this.compressedSize))},readCentralPart:function(a){this.versionMadeBy=a.readInt(2),a.skip(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4);var b=a.readInt(2);if(this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");a.skip(b),this.readExtraFields(a),this.parseZIP64ExtraField(a),this.fileComment=a.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===a&&(this.dosPermissions=63&this.externalFileAttributes),3===a&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var a=d(this.extraFields[1].value);this.uncompressedSize===e.MAX_VALUE_32BITS&&(this.uncompressedSize=a.readInt(8)),this.compressedSize===e.MAX_VALUE_32BITS&&(this.compressedSize=a.readInt(8)),this.localHeaderOffset===e.MAX_VALUE_32BITS&&(this.localHeaderOffset=a.readInt(8)),this.diskNumberStart===e.MAX_VALUE_16BITS&&(this.diskNumberStart=a.readInt(4))}},readExtraFields:function(a){var b,c,d,e=a.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});a.index+4<e;)b=a.readInt(2),c=a.readInt(2),d=a.readData(c),this.extraFields[b]={id:b,length:c,value:d};a.setIndex(e)},handleUTF8:function(){var a=j.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(null!==b)this.fileNameStr=b;else{var c=e.transformTo(a,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var d=this.findExtraFieldUnicodeComment();if(null!==d)this.fileCommentStr=d;else{var f=e.transformTo(a,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var b=d(a.value);return 1!==b.readInt(1)?null:g(this.fileName)!==b.readInt(4)?null:h.utf8decode(b.readData(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var b=d(a.value);return 1!==b.readInt(1)?null:g(this.fileComment)!==b.readInt(4)?null:h.utf8decode(b.readData(a.length-5))}return null}},b.exports=k},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],19:[function(a,b,c){"use strict";function d(a,b,c){this.name=a,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this.unixPermissions=c.unixPermissions,this.dosPermissions=c.dosPermissions,this._data=b,this._dataBinary=c.binary,this.options={compression:c.compression,compressionOptions:c.compressionOptions}}var e=a("./stream/StreamHelper"),f=a("./stream/DataWorker"),g=a("./utf8"),h=a("./compressedObject"),i=a("./stream/GenericWorker");d.prototype={internalStream:function(a){var b=null,c="string";try{if(!a)throw new Error("No output type specified.");var d="string"===(c=a.toLowerCase())||"text"===c;"binarystring"!==c&&"text"!==c||(c="string"),b=this._decompressWorker();var h=!this._dataBinary;h&&!d&&(b=b.pipe(new g.Utf8DecodeWorker)),!h&&d&&(b=b.pipe(new g.Utf8EncodeWorker(a.charset||"utf8"))),b=b.pipe(new e(c));var i=new Promise(function(a,c){b.on("error",function(a){c(a)}).on("end",function(){try{a(b.streamInfo.buffer||b.streamInfo.result)}catch(a){c(a)}}).resume()});return i}catch(a){return(b||new i("error")).error(a),b}},async:function(a){return this.internalStream(a)},nodeStream:function(a,b){return this.internalStream(a||b||"nodebuffer").then(function(a){return new Readable({objectMode:!1,read:function(){this.push(a),this.push(null)}})})},_compressWorker:function(a,b){if(this._data instanceof h&&this._data.compression.magic===a.magic)return this._data.getCompressedWorker();var c=this._decompressWorker();return this._dataBinary||(c=c.pipe(new g.Utf8EncodeWorker("utf8"))),h.createWorkerFrom(c,a,b)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof i?this._data:new f(this._data)}};for(var j=["asText","asBinary","asUint8Array","asArrayBuffer"],k=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<j.length;l++)d.prototype[j[l]]=k;b.exports=d},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}]},{},[12])(12)});